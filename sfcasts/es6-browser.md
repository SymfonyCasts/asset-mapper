# Doing Modern JS Right in your Browser

Coming soon...

Before we talk about Symfony and any of that stuff, let's first prove that we can code with modern JavaScript in our browser. So check this out. I'm going to go directly into the public directory and create a new app.js file. And to start, I'm just going to log a message. This isn't going to be processed by Symfony or anything yet. We're keeping it simple. So in templates, base.html.twig up inside this JavaScript block. We're simply going to add a boring script tag for this. So source curly curly asset app.js. I'm using the asset function, but that's not doing anything for us here. It's just going to output a script tag. Back over in the browser, let me open my console tools, refresh. And there we go. We got the log. Not super interesting yet. So now let's go into this file, app.js, and kind of write some code. Write some modern JavaScript code. So I'm going to copy my mix name there. Let's create a class. I'm going to call it class mixed vinyl. So I'm using the ES syntax here. I'm going to quickly just create a very simple class. It takes a title and year constructor properties, sets those onto properties. And then we have a little describe method. It's going to use string interpolation, another modern JavaScript feature, to return a string. Cool. So nothing particularly special about that, but that is modern JavaScript, the kind of stuff that we write every day, but that historically hasn't worked in a browser. Down here, let's just use that. So I'll say const, another modern JavaScript feature, mix equals new mixed vinyl. Then I'm going to pass it our mix name, the year, and then we'll console.log mix.describe. Cool. So that's the way I like to write JavaScript. And normally we would now have a build system like Encore that would read this and change it to old JavaScript that would work in our browser. But here's a surprise. It works in our browser already. We don't need to do anything. This is not just because I'm using a new browser. This is going to work in every browser. So if you're ever not sure, go to caniuse.com. In this case, let's look up a ES6 class.  ES6 is the version of ECMAScript, ES6, that most of the modern JavaScript features that you know and love came from. So you can see this is supported everywhere except for IE11, which is dead. All right, what else can we do? What about the import statement? So I'm going to copy this mixed vinyl here. Let's create another file directly inside of public called vinyl.js. I'm going to paste this in there and then I'm actually going to export that. So again, something that we tend to do, export default class, and then over in app.js, we're now going to import mixed vinyl from, and then just like normal JavaScript, we'll use the relative app, vinyl.js. Notice I am including the.js on here. We don't always do that. I'm going to talk more about that later. I'm doing that on purpose. So this is not something that a browser has historically been able to do. This import statement was not supported, but it turns out, and we refresh, actually we get an error. Cannot use import statement outside a module. So this is actually not a super big deal. Back in base.html, that twig, if you want to use, when we talk about modules, we're talking about files that use export and import. If you want to load your JavaScript like into a module system, your original script tag just needs to look a bit different. It's not a big deal. So I'm going to copy my asset function here, and now we're going to say script type equals module. And instead of a source, inside we're actually just going to kind of write JavaScript, and in this JavaScript, we're going to import our app.js file. So it looks kind of crazy, but it's just import, single quotes like we're writing JavaScript, and then I'll use twig to print out that path. So we're importing app.js, which will execute it as a module, and everything works. Yes, our browser supports the import statement. And heck, we can even use third-party packages inside of a system like this. So to find a third-party package, I'm going to use my favorite CDN called jsdeliver. We're going to be using this quite a bit in this tutorial. No, you don't need to rely on jsdeliver, but jsdeliver has a mirror of every single NPM package.  So if you're looking for an NPM package that you want to use, this is a great place to go. So let's look at lodash. That's a popular library. If we click it into lodash, you see it has a script tag for us. Click on the ESM. ESM is the word for modules. When you're coding with imports and exports, you want the ESM version of a package. And you can see even down here, it says script type, fields module, import lodash. So it's showing you code that looks very similar to the code that we had over here. We're not actually going to use that, but I am going to copy the URL to that. And check this out. If I go to app.js, it's kind of crazy, but we can say import underscore from, and then paste that full URL. And we can also download this file locally. I'm going to talk more about that later. We don't have to rely on a CDN, but it's really, really easy. Then down here, I'm going to say underscore dot camel case to call one of the methods on lodash. Then we spin back over, refresh. Check that out. So there's no build system here. I just opened up files inside of my public directory, and I'm even using third-party NPM packages. It's kind of amazing. Now there are two problems with this. The first is that importing packages using the full URL like this is kind of annoying. I want to be able to just say import from lodash. The second problem is asset versioning. In order to have a very performance system, we need our final files downloaded by the browser to have version hashes in the file name like app.1234abcd.js. We can't get that just by creating files in our public directory. So this is the two things that Symfony's new asset mapper component is going to solve. I wanted to kind of start just with raw JavaScript files so that you know that most of what we're going to be doing is not solved by Symfony or asset mapper. It's just solved by your browser and the modern web. Yay.  All right, so before we kind of hop into asset mapper, I'm going to delete these two files just so we don't get confused and take out this import inside of our base.html. Don't worry. You're going to see all that code in kind of a different way very shortly. So next, let's get asset mapper installed, find out what it does.
